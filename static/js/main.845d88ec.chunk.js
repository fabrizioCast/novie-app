(this["webpackJsonpmaterial-ui"]=this["webpackJsonpmaterial-ui"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(70),r=a.n(i),s=a(81),o=a(155),l=a(50),j=a(16),d=a(8),u=a(1),b=Object(c.createContext)(),h=function(e){var t=e.children,a=Object(c.useState)(!1),n=Object(d.a)(a,2),i={overView:n[0],setOverView:n[1]};return Object(u.jsx)(b.Provider,{value:i,children:t})},v=b,O=a(152),x=a(158),m=a(157),f=a(147),p=a(77),g=a.n(p),w=a(14),_=a(10),y=a(149),S=a(139),N=Object(c.createContext)(),k=function(e){var t=e.children,a=Object(c.useState)(""),n=Object(d.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(d.a)(s,2),l={dynamicSearch:i,setDynamicSearch:r,showDynamicSearch:o[0],setShowDynamicSearch:o[1]};return Object(u.jsx)(N.Provider,{value:l,children:t})},C=N,B=Object(w.a)(y.a)((function(e){var t,a=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":(t={padding:a.spacing(1,1,1,0),border:"1px solid rgba(61,79,145,.5)",backgroundColor:Object(S.a)("#080f28",.5),borderRadius:"30px",paddingLeft:"calc(1em + ".concat(a.spacing(4),")"),transition:a.transitions.create("width"),width:"15ch"},Object(_.a)(t,a.breakpoints.up("sm"),{width:"20ch","&:focus":{width:"25ch"}}),Object(_.a)(t,"&:focus",{border:"1px solid rgba(61,79,145, 1)"}),t)}})),P=function(){var e=Object(c.useContext)(C),t=e.setDynamicSearch,a=e.dynamicSearch,n=e.setShowDynamicSearch;return Object(u.jsx)(B,{sx:{color:"#8da0bc"},placeholder:"Search...",inputProps:{"aria-label":"search"},value:a,onChange:function(e){t(e.target.value)},onFocus:function(e){return n(!0)},onBlurCapture:function(e){setTimeout((function(){n(!1)}),100)}})},D=Object(w.a)("div")((function(e){return{position:"relative",color:e.theme.palette.secondary.contrastText,width:"auto"}})),E=Object(w.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),V=function(){return Object(u.jsxs)(D,{children:[Object(u.jsx)(E,{children:Object(u.jsx)(g.a,{sx:{color:"#007aff"}})}),Object(u.jsx)(P,{})]})},T=(a(96),a(154)),F=a(42),U=a.n(F),A=a(56),I=(a(98),a(156)),M=function(){var e=Object(j.f)(),t=Object(c.useContext)(C),a=t.dynamicSearch,n=t.setDynamicSearch,i=t.showDynamicSearch,r=Object(c.useState)({}),s=Object(d.a)(r,2),o=s[0],l=s[1],b=Object(c.useState)(!1),h=Object(d.a)(b,2),v=h[0],O=h[1],x="https://api.themoviedb.org/3/search/movie?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US&query=".concat(a,"&page=1");Object(c.useEffect)((function(){if(a.length>2){var e=function(){var e=Object(A.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,fetch(x);case 4:if((t=e.sent).ok){e.next=8;break}throw{error:"Error"};case 8:return e.next=10,t.json();case 10:a=e.sent,l(a),O(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}else l(null)}),[a,x]);return Object(u.jsxs)("div",{children:[v&&Object(u.jsx)(T.a,{className:"dynamicSearch",children:Object(u.jsx)("div",{className:"dynamicSearch__loading",children:Object(u.jsx)(I.a,{sx:{margin:"0 auto"}})})}),o&&i&&Object(u.jsx)(T.a,{className:"dynamicSearch",children:o.results.map((function(t,a){return a>4?null:Object(u.jsxs)("div",{className:"dynamicSearch__item",onClick:function(){return a=t.id,n(""),void e.push("/movie/".concat(a));var a},children:[Object(u.jsx)("div",{className:"item__imagen",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:""})}),Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("div",{className:"item__title",children:Object(u.jsx)(m.a,{variant:"subtitle1",children:t.title})}),Object(u.jsx)("div",{className:"item-info",children:Object(u.jsx)("div",{className:"item-info__rating",children:Object(u.jsx)(m.a,{variant:"subtitle2",children:"".concat(t.vote_average,"/10")})})})]})]},a)}))})]})},L=Object(f.a)((function(e){return{offset:e.mixins.toolbar}})),J=function(){var e=L(),t=Object(j.f)();return Object(u.jsxs)("div",{children:[Object(u.jsx)(O.a,{sx:{boxShadow:"none"},children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)(T.a,{className:"navBar__logo",children:Object(u.jsx)("div",{className:"navBar__logo-fix navBar__items",onClick:function(){return t.push("/")},children:Object(u.jsx)(m.a,{variant:"button",component:"p",className:"navBar__items",children:"Novies"})})}),Object(u.jsx)(k,{children:Object(u.jsxs)("div",{className:"navBar__search",children:[Object(u.jsx)(V,{}),Object(u.jsx)(M,{})]})})]})}),Object(u.jsx)("div",{className:e.offset})]})},q=(a(101),function(){return Object(u.jsx)(J,{})}),R=function(e){var t=Object(c.useState)(null),a=Object(d.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(null),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(!1),u=Object(d.a)(j,2),b=u[0],h=u[1];return Object(c.useEffect)((function(){var t=new AbortController,a=t.signal,c=function(){var t=Object(A.a)(U.a.mark((function t(){var c,n,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,fetch(e,{signal:a});case 4:if((c=t.sent).ok){t.next=10;break}throw(n=new Error("Error en la petici\xf3n Fetch")).status=c.status||"00",n.statusText=c.statusText||"Ocurri\xf3 un error",n;case 10:return t.next=12,c.json();case 12:r=t.sent,a.aborted||(i(r),l(null)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),a.aborted||(i(null),l(t.t0));case 19:return t.prev=19,a.aborted||h(!1),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[1,16,19,22]])})));return function(){return t.apply(this,arguments)}}();return c(),function(){return t.abort()}}),[e]),{data:n,error:o,loading:b}},W=a(146),z=a(144),G=a(150),H=a(145),K=(a(102),function(e){var t=e.title,a=e.img,c=e.year,n=e.id,i=Object(j.f)();return Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"#acalink","data-id":n,onClick:function(e){e.preventDefault(),i.push("/movie/".concat(n)),window.scroll({top:-1})},children:Object(u.jsxs)("div",{className:"movie-card",children:[Object(u.jsxs)("div",{className:"movie-card__image noselect",children:[Object(u.jsx)("div",{className:"overlay"}),Object(u.jsx)("div",{className:"year",children:Object(u.jsx)(m.a,{variant:"caption",component:"span",className:"movie-card__text",children:c})}),Object(u.jsx)("img",{src:a,alt:t})]}),Object(u.jsx)(m.a,{variant:"body2",className:"movie-card__text",children:t})]})})})});a(103);W.a.use([z.a]);var Q=function(e){var t=e.data,a=Object(c.useState)(!1),n=Object(d.a)(a,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){t&&r(!0)}),[t]),Object(u.jsx)(G.a,{loop:!0,freeMode:!0,slidesPerView:"auto",navigation:!0,pagination:{clickable:!0},breakpoints:{280:{slidesPerView:2,spaceBetween:200},320:{slidesPerView:2,spaceBetween:130},480:{slidesPerView:3,spaceBetween:130},768:{slidesPerView:4,spaceBetween:130},1024:{slidesPerView:5,spaceBetween:70},1280:{slidesPerView:6,spaceBetween:70},1281:{slidesPerView:7,spaceBetween:30}},children:i&&t.map((function(e,t){return Object(u.jsx)(H.a,{children:Object(u.jsx)(K,{id:e.id,title:e.title,img:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),year:e.release_date.slice(0,-6)})},t)}))})},X=a(153),Y=(a(104),function(){return Object(u.jsx)("div",{className:"skeleton",children:Array.from(new Array(14)).map((function(e,t){return Object(u.jsxs)("div",{className:"skeleton-item",children:[Object(u.jsx)(X.a,{variant:"rectangular",width:200,height:300}),Object(u.jsx)(X.a,{variant:"text",height:50})]},t)}))})}),Z=(a(105),function(e){var t=e.url,a=Object(c.useState)(null),n=Object(d.a)(a,2),i=n[0],r=n[1],s=R(t),o=s.data,l=s.loading;return Object(c.useEffect)((function(){o&&r(o.results)}),[o]),Object(u.jsx)("div",{children:l?Object(u.jsx)(Y,{}):Object(u.jsx)(Q,{data:i})})}),$=function(){var e=Object(c.useContext)(v).setOverView;return Object(c.useEffect)((function(){e(!1)}),[e]),Object(u.jsxs)(T.a,{sx:{padding:"20px"},children:[Object(u.jsx)(m.a,{variant:"h6",sx:{color:"#fff"},children:"Trending"}),Object(u.jsx)(Z,{url:"https://api.themoviedb.org/3/trending/movie/week?api_key=a70cdf7150610596a2441d3771de20cf"}),Object(u.jsx)(m.a,{variant:"h6",sx:{color:"#fff"},children:"Now Playing"}),Object(u.jsx)(Z,{url:"https://api.themoviedb.org/3/movie/now_playing?api_key=a70cdf7150610596a2441d3771de20cf&language=es&page=1"}),Object(u.jsx)(m.a,{variant:"h6",sx:{color:"#fff"},children:"Top rated"}),Object(u.jsx)(Z,{url:"https://api.themoviedb.org/3/movie/top_rated?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US&page=1"})]})},ee=a(151),te=a(148),ae=(a(106),a(107),function(e){var t=e.data,a=Object(c.useContext)(v).ref;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{ref:a,className:"overview__sypnosis",children:[Object(u.jsx)(m.a,{variant:"h6",children:"Sypnosis"}),Object(u.jsx)(m.a,{variant:"subtitle1",className:"content-color",children:t})]})})}),ce=(a(108),function(e){var t=e.data;return Object(u.jsx)("div",{className:"overview__genere",children:t.map((function(e,t){return Object(u.jsx)("div",{className:"genere__item",children:Object(u.jsx)(m.a,{variant:"caption",className:"content-color",children:e.name})},t)}))})}),ne=a(80),ie=a.n(ne),re=(a(109),function(e){var t=e.data,a=e.rating;return Object(u.jsxs)("div",{className:"overview__rating",children:[Object(u.jsx)(m.a,{variant:"subtitle1",className:"content-color",children:function(){var e;return t.crew.map((function(t){return"Director"===t.job?e=t.name:e})),"Director: ".concat(e)}()}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsxs)("div",{className:"overinfo__star content-color",children:[Object(u.jsx)(m.a,{variant:"subtitle1",children:a}),Object(u.jsx)(ie.a,{sx:{color:"#FCA139"}})]})]})}),se=function(){var e=Object(j.g)().id,t=Object(c.useContext)(v).setOverView,a=Object(c.useState)(null),n=Object(d.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),l=o[0],b=o[1],h=Object(c.useState)(null),O=Object(d.a)(h,2),x=O[0],f=O[1],p="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US"),g=R(p),w=g.data,_=g.loading;p="https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US");var y=R(p),S=y.data,N=y.loading,k="https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US"),C=R(k),B=C.data,P=C.loading;return Object(c.useEffect)((function(){window.scroll({top:0}),r(null),b(null)}),[e]),Object(c.useEffect)((function(){w&&!_&&S&&!N&&B&&!P&&(r(w),b(S),f(B),t(!0))}),[w,_,S,N,t,B,P]),Object(u.jsx)("div",{children:i?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"overview",children:[Object(u.jsxs)("div",{className:"overview__image",children:[Object(u.jsx)(ee.a,{smDown:!0,children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(i.backdrop_path),alt:"movie"})}),Object(u.jsx)(ee.a,{smUp:!0,children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(i.poster_path),alt:"movie"})})]}),Object(u.jsxs)("div",{className:"overview__info",children:[Object(u.jsx)(ee.a,{smDown:!0,children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(i.poster_path),alt:"movie"})}),Object(u.jsxs)("div",{className:"overview__content",children:[Object(u.jsx)("div",{className:"overview__title",children:Object(u.jsx)(m.a,{variant:"h4",children:i.title})}),Object(u.jsx)(re,{data:l,rating:i.vote_average}),Object(u.jsx)(ce,{data:i.genres}),Object(u.jsx)(ae,{data:i.overview}),Object(u.jsx)("div",{className:"overview__content__trailer",children:Object(u.jsx)(te.a,{variant:"outlined",href:"https://www.youtube.com/watch?v=".concat(function(){var e;return x.results.map((function(t){return"Trailer"!==t.type?null:e=t.key})),e}()),target:"__blank",sx:{margin:"10px 0"},children:"Watch Trailer"})})]})]})]}),Object(u.jsxs)(T.a,{sx:{padding:"20px"},children:[Object(u.jsx)(m.a,{variant:"h6",className:"title-color similar-movies",children:"Similar Movies"}),Object(u.jsx)(Z,{url:"https://api.themoviedb.org/3/movie/".concat(e,"/similar?api_key=a70cdf7150610596a2441d3771de20cf&language=en-US&page=1")})]})]}):Object(u.jsx)(Y,{})})},oe=function(){return Object(u.jsx)(l.a,{children:Object(u.jsxs)(h,{children:[Object(u.jsx)(q,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/",component:$}),Object(u.jsx)(j.a,{path:"/movie/:id",component:se})]})]})})},le=(a(110),Object(s.a)({}));var je=function(){return Object(u.jsx)(o.a,{theme:le,children:Object(u.jsx)(oe,{})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,159)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(je,{})}),document.getElementById("root")),de()},96:function(e,t,a){},98:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.845d88ec.chunk.js.map